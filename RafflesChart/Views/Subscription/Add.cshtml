@model RafflesChart.ViewModels.SubscriptionViewModel
@{
    ViewBag.Title = "Subscription";
}
@section styles{
    <link href="~/Content/bootstrap-select.min.css" rel="stylesheet" />
}
@if (@TempData["Success"] != null && !string.IsNullOrEmpty(TempData["Success"].ToString())) 
{ 
<p class="alert alert-success">@TempData["Success"] </p>
}
@if (@TempData["SetError"] != null && !string.IsNullOrEmpty(TempData["SetError"].ToString()))
{
<p class="alert alert-danger">@TempData["SetError"] </p>
}
<h2>Subscription</h2>

@{
    var months = new List<SelectListItem>()
                    {
                        new SelectListItem(){ Value ="1" , Text="1 Month"},
                        new SelectListItem(){ Value ="2" , Text="2 Month"},
                        new SelectListItem(){ Value ="3" , Text="3 Month"}
                    };

    var entries = from en in Enumerable.Range(1, 10)
                  select new RafflesChart.ViewModels.SubscriptionEntryViewModel()
                  {
                      Name = "Name " + en,
                      Price = en * 100,
                      Detail = "blah blah lbha lbha " + en,
                      Status = "Sale",
                      CreatedDate = DateTime.Now,
                      UpdatedDate = DateTime.Now
                  };                    
}

@foreach (var item in entries)
{
    using (Html.BeginForm("Add", "Subscription"))
    {
        <div>
            <div>
                @item.Name
            </div>
            <div>
                @Html.Raw(item.Detail)
            </div>
            <div>
                @item.Price
                <input type="hidden" name="Price" value="@item.Price" />
            </div>
            <div>
                
                @Html.DropDownListFor(m => m.SelectedMonth, months, new { @class = "selectpicker" })
            </div>
            <div>
                <input type="image" src="~/Content/btn_pponly_142x27.png"  />
            </div>
        </div>
    }
}

@section scripts{


    <script src="~/Scripts/bootstrap-select.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.selectpicker').selectpicker();
        });
    </script>
}